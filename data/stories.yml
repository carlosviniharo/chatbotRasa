version: "3.1"

stories:
- story: start_conversation_and_ask_user_id
  steps:
    - intent: start_conversation
    - action: utter_start_conversation
    - action: utter_ask_identity
    - intent: inform_identity
    - action: action_show_identity
    - checkpoint: disclaimer_checkpoint

- story: handle_disclaimer (affirm)
  steps:
    - checkpoint: disclaimer_checkpoint
    - action: utter_disclaimer
    - intent: affirm
    - checkpoint: ask_option_checkpoint

- story: handle_disclaimer (deny)
  steps:
    - checkpoint: disclaimer_checkpoint
    - action: utter_disclaimer
    - intent: deny
    - action: utter_goodbye
    - action: action_end_conversation


- story: ask_option
  steps:
    - checkpoint: ask_option_checkpoint
    - action: utter_services
    - intent: choose_option
    - action: action_show_option
    - checkpoint: show_services

- story: ask_credits
  steps:
  - checkpoint: show_services
  - action: utter_loans
  - intent: loan_info


#- story: start conversation and collect client data investment
#  steps:
#    - intent: start_conversation
#    - action: utter_start_conversation
#    - action: utter_service
#    - intent: investments
#    - action: action_set_slot
#      value:
#        service_type: "investment"  # Set the slot to "investment"
#    - action: client_data_form
#    - active_loop: client_data_form



# - story: show_investments
#   steps:
#   - checkpoint: show_services
#   - intent: choose_option
#     entities:
#     - option: "credits"
#   - action: utter_investments

# - story: show_accounts
#   steps:
#   - checkpoint: show_service
#   - intent: choose_option
#     entities:
#     - option: "credits"
#   - action: utter_accounts